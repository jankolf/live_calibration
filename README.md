# Live Camera Calibration
This project implements live charuco-based camera calibration using OpenCV2 with Python.
It is based on [nullboundary's CharucoCalibration repository](https://github.com/nullboundary/CharucoCalibration "nullboundary's CharucoCalibration repository").
The CV2 camera livestream takes pictures when enough charuco-corners are detected and the time limit is exceeded. If the user has taken enough pictures, the camera calibration can be calculated by pressing the ESC key.
Tested with Python 3.7.7, Windows 10, Anaconda.
**Dependencies**: opencv2, numpy

------------
### live_calibration.py
This file implements the camera calibration via camera live stream.
**Usage**:
```
python live_calibration.py 
--mode {calibrate, generate} Calibrate: Live Calibration, Generate: Generate Chacuro-Marker Board size (rows, columns), saves as PNG with size (2480, 3508) px, which is roughly A4 paper size 
--rows: Int, amount of checker rows (short side A4), default=8
--columns: Int, amount of checker columns (long side A4), default=10
--video-height: Int, height of live video image, default=720
--video-width: Int, width of live video image, default=1280
--time-step: Float, min. seconds which need to pass between two image captures, default=3 seconds
--camera-id: Int, ID of the camera used, default=0
--output-file: Str, filename for calibration data, default=calibration_data; Filetype added automatically.
```

------------
### live_undistortion.py
This file implements a live undistortion, which is calculated using a previously calculated camera matrix. Per camera live stream the original image is displayed on the left, the undistorted image on the right. The width of the live-view is the original image size, the image height is half of the original image height.
**Usage**:
```
python live_undistortion.py 
--video-height: Int, height of live video image, default=720
--video-width: Int, width of live video image, default=1280
--camera-id: Int, ID of the camera used, default=0
--calibration-file: Str, filename for calibration data generated by live_calibration.py, default=calibration_data; Filetype added automatically.
```